<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Оформление заказа</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="container py-5 mt-2">
    <header>
        <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center link-body-emphasis text-decoration-none">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="black" class="bi bi-bag" viewBox="0 0 16 16">
                    <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"/>
                </svg>
                <span class="fs-4 ms-2" style="color: black"><b>la_men</b></span>
            </a>
            <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
                <a class="me-3 py-2 link-body-emphasis text-decoration-none" href="/profile" style="color: black">Профиль</a>
                <a class="me-3 py-2 link-body-emphasis text-decoration-none" href="#">Поддержка</a>
                <a class="py-2 link-body-emphasis text-decoration-none" href="#">О нас</a>
            </nav>
        </div>
    </header>

    <nav aria-label="панировочные сухари">
        <ol class="breadcrumb p-3 bg-body-tertiary rounded-3">
            <li class="breadcrumb-item">
                <a class="link-body-emphasis" href="/">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"/>
                    </svg>
                    <span class="visually-hidden">Главная</span>
                </a>
            </li>
            <li class="breadcrumb-item">
                <a class="link-body-emphasis fw-semibold text-decoration-none" href="/basket">Корзина</a>
            </li>
            <li class="breadcrumb-item">
                <a class="link-body-emphasis fw-semibold text-decoration-none" href="/basket/order">Оформление заказа</a>
            </li>
        </ol>
    </nav>

    <div class="col-md-7 col-lg-8">
        <h3 class="mb-3">Оформление заказа</h3>
        <form action="/basket/order" method="post">
            <div class="mb-3">
                <label for="state" class="form-label">Пункт выдачи</label>
                <select class="form-select" id="state" name="state" required>
                    <option value="">Выберите...</option>
                    <option>Пункт выдачи 1</option>
                    <option>Пункт выдачи 2</option>
                    <option>Пункт выдачи 3</option>
                    <option>Пункт выдачи 4</option>
                    <option>Пункт выдачи 5</option>
                    <option>Пункт выдачи 6</option>
                </select>
                <div class="invalid-feedback">Пожалуйста, выберите пункт выдачи</div>
            </div>

            <div class="mb-3">
                <label for="date" class="form-label">Дата доставки:</label>
                <input type="date" name="deliveryDate" class="form-control" id="date" required>
                <small>Время хранения заказа в пункте выдачи: 2 дня</small>
            </div>

            <hr class="my-3">
            <div>
                <h1 th:text="'Заказ на сумму: ' + ${total} + ' руб.'"></h1>
            </div>

            <button class="w-100 btn btn-primary btn-lg mt-2" type="submit" id="openModalBtn">Оформить заказ</button>
        </form>
    </div>
</div>

<footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <div class="col-md-4 d-flex align-items-center" style="margin-left: 20px;">
        <span class="mb-3 mb-md-0 text-body-secondary">© 2023 la_men, Inc</span>
    </div>
</footer>

<script>
    var dateInput = document.getElementById('date');
    var today = new Date();
    var minDate = new Date(today.getTime() + (2 * 24 * 60 * 60 * 1000));
    var maxDate = new Date(today.getTime() + (7 * 24 * 60 * 60 * 1000));

    var minDateString = minDate.toISOString().split('T')[0];
    var maxDateString = maxDate.toISOString().split('T')[0];

    dateInput.setAttribute('min', minDateString);
    dateInput.setAttribute('max', maxDateString);
</script>

</body>
</html>
